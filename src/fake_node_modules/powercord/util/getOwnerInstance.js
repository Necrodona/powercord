const { webFrame } = require('electron');
const getReactInstance = require('./getReactInstance');

module.exports = (node) => {
  for (let curr = getReactInstance(node); curr; curr = curr.return) {
    const owner = curr.stateNode;
    const RealHTMLElement = webFrame.top.context.HTMLElement;
    // console.log('goi: %b, %b', owner instanceof HTMLElement, owner instanceof RealHTMLElement);
    if (owner && !(owner instanceof RealHTMLElement)) {
      return owner;
    }
  }

  return null;
};
